<!DOCTYPE html>
<html lang="en-us" class="wf-firasans-n4-active wf-active">
	<head>
    <link href="http://gmpg.org/xfn/11" rel="profile">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!-- Enable responsiveness on mobile devices -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    
    
    <meta name="generator" content="Hugo 0.59.0" />
    
    <title>Setting Up The Blog &middot; RayG</title>
    <meta content="Setting Up The Blog - RayG" property="og:title">
    <meta content=" - " property="og:description">
    <!-- CSS -->
    
    <link rel="stylesheet" href="https://ray-g.github.io/css/print.css" media="print">
    <link rel="stylesheet" href="https://ray-g.github.io/css/poole.css">
    <link rel="stylesheet" href="https://ray-g.github.io/css/hyde.css">
    <!-- Font-Awesome -->
    <script defer src="https://use.fontawesome.com/releases/v5.0.13/js/all.js" integrity="sha384-xymdQtn1n3lH2wcu0qhcdaOpQwyoarkgLVxC/wZ5q7h9gHtxICrpcaSUfygqZGOe" crossorigin="anonymous"></script>
    <!-- highlight.js-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/monokai.min.css">
    <!-- Customised CSS -->
    <link rel="stylesheet" href="https://ray-g.github.io/css/custom.css">
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <!-- Icons -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144-precomposed.png">
    <link rel="shortcut icon" href="/favicon.png">
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
    </script>
    

	</head>
    <body class="theme-base-0d ">
        <div class="sidebar">
  <div class="container text-center ">
    <div class="sidebar-about text-center">
      <a href="https://ray-g.github.io/"><h1 class="brand">RayG</h1></a>
       <img src="/img/rayg.png" alt="Author Image" class="img-circle headshot center"> 
      <p class="lead">
          Tech Notes 
      </p>
    </div>
    
<div>
	<ul class="sidebar-nav">
		
		
				<li>
					<a href="/architect/"> <span>Architect</span></a>
				</li>
				<li>
					<a href="/golang/"> <span>Golang</span></a>
				</li>
				<li>
					<a href="/machinelearning/"> <span>Machine Learning</span></a>
				</li>
				<li>
					<a href="/cloud/"> <span>Cloud</span></a>
				</li>
				<li>
					<a href="/docker/"> <span>Docker</span></a>
				</li>
				<li>
					<a href="/database/"> <span>Database</span></a>
				</li>
				<li>
					<a href="/others/"> <span>Others</span></a>
				</li>
				<li>
					<a href="https://github.com/ray-g"> <span>Codes</span></a>
				</li>
				<li>
					<a href="/about/"> <span>About</span></a>
				</li>
		</li>
	</ul>
</div>

    <p>
      <section class="row text-center">
	
	
	
	&nbsp;<a href="https://github.com/ray-g"><i class="fab fa-github fa-lg" aria-hidden="true"></i></a>
	
	
	
	
	
	&nbsp;<a href="https://linkedin.com/in/ray-guo-15145024"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a>
	
	
	&nbsp;<a href="https://stackoverflow.com/users/7188458/ray-g"><i class="fab fa-stack-overflow fa-lg" aria-hidden="true"></i></a>
	
	
	
	
	
	&nbsp;<a href="mailto:ray_g@live.com"><i class="fas fa-at fa-lg" aria-hidden="true"></i></a>
	
</section>

    </p>
    <p class="copyright">&copy; 2020 RayG.
      <a href="https://creativecommons.org/licenses/by/4.0">Some Rights Reserved</a>.<br/>Built with <a href="https://gohugo.io/">Hugo</a> &amp; <a href="https://github.com/htr3n/hyde-hyde">hyde-hyde</a>.
    </p>
  </div>
  <div>
  </div>
</div>

        <div class="content container">
            <div class="post">
  <h1>Setting Up The Blog</h1>
  
  <div class="col-sm-12 col-md-12">
    <span class="text-left post-date meta">
      
      
        <i class="fas fa-calendar-alt"></i> Jun 10, 2018
      
      
      
      
      <br/>
      <i class="fas fa-clock"></i> 4 min read
      </span>
  </div>
  

  
<aside>
    <header>
        <b>Table of Content</b>
    </header>
    <nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#setting-up-hugo-site">Setting up Hugo site</a>
<ul>
<li><a href="#install-hugo">Install Hugo</a></li>
<li><a href="#create-a-new-site">Create a New Site</a></li>
<li><a href="#add-a-theme">Add a Theme</a></li>
<li><a href="#add-content">Add Content</a></li>
<li><a href="#serve-locally">Serve locally</a></li>
</ul></li>
<li><a href="#host-on-github">Host on Github</a>
<ul>
<li><a href="#github-user-page">Github User Page</a></li>
<li><a href="#publish-blog">Publish Blog</a></li>
</ul></li>
<li><a href="#setting-up-graphcomment">Setting up GraphComment</a></li>
<li><a href="#finished">Finished</a></li>
</ul></li>
</ul>
</nav>
    <p>---</p>
</aside>



  <article>
    

<p>This blog is built with <a href="https://gohugo.io">Hugo</a> and hosted on <a href="https://github.com">Github</a>.</p>

<h2 id="setting-up-hugo-site">Setting up Hugo site</h2>

<h3 id="install-hugo">Install Hugo</h3>

<p>First we should have a <code>Hugo</code> installed, <a href="https://gohugo.io/getting-started/installing/">Install Hugo</a>, or just download the binary from <a href="https://github.com/gohugoio/hugo/releases">github.com/gohugoio/hugo</a>.</p>

<p>After <code>Hugo</code> installed, try verify it.</p>

<pre><code class="language-shell">$ hugo version
Hugo Static Site Generator v0.41 linux/amd64 BuildDate: 2018-05-25T16:57:20Z
</code></pre>

<h3 id="create-a-new-site">Create a New Site</h3>

<p><code>Hugo</code> can generate layout of a new site very easy:</p>

<pre><code class="language-shell">$ hugo new site hugo-blog
Congratulations! Your new Hugo site is created in /home/user/hugo-blog.

Just a few more steps and you're ready to go:

1. Download a theme into the same-named folder.
   Choose a theme from https://themes.gohugo.io/, or
   create your own with the &quot;hugo new theme &lt;THEMENAME&gt;&quot; command.
2. Perhaps you want to add some content. You can add single files
   with &quot;hugo new &lt;SECTIONNAME&gt;/&lt;FILENAME&gt;.&lt;FORMAT&gt;&quot;.
3. Start the built-in live server via &quot;hugo server&quot;.

Visit https://gohugo.io/ for quickstart guide and full documentation.
</code></pre>

<h3 id="add-a-theme">Add a Theme</h3>

<p>Then we need to choose a beautiful theme for our site. Try <code>hyde-hyde</code>.
This theme has 2 columns and 8 base colors. With the abilities of <code>syntax highlight by highlight.js</code>,
<code>discuss by GraphComment</code> and other great features.</p>

<pre><code class="language-shell">$ cd hugo-blog

$ git init
Initialized empty Git repository in /home/user/hugo-blog/.git/

$ git submodule add https://github.com/htr3n/hyde-hyde.git themes/hyde-hyde
Cloning into 'themes/hyde-hyde'...
remote: Counting objects: 663, done.
remote: Total 663 (delta 0), reused 0 (delta 0), pack-reused 663
Receiving objects: 100% (663/663), 1.90 MiB | 118.00 KiB/s, done.
Resolving deltas: 100% (356/356), done.
Checking connectivity... done.
</code></pre>

<p>Then let&rsquo;s open <code>config.toml</code> and customize our site. Copy the <code>config.toml</code> from <code>./themes/hyde-hyde/exampleSite/config.toml</code> to the root of the site and modify it.</p>

<pre><code class="language-toml">## Basic Configuration
baseurl = &quot;https://example.com/&quot;
languageCode = &quot;en&quot;

theme = &quot;hyde-hyde&quot;

## Hugo Built-in Features
# disqusShortname = &quot;your-disqus-shortname&quot;
# googleAnalytics = &quot;your-google-analytics-id&quot;
# enableRobotsTXT = true

## Site Settings
[params]
    author = &quot;Author&quot;
    title = &quot;Title&quot;
    # description = &quot;...&quot;
    authorimage = &quot;/img/hugo.png&quot;
    dateformat = &quot;Jan 2, 2006&quot;
    highlightjs = true
    # highlightjsstyle = &quot;github&quot;
    # please choose either GraphComment or Disqus
    # GraphCommentId = &quot;your-graph-comment-id&quot;
    # layoutReverse = true
    # sidebarSticky = true

## Social Accounts
[params.social]
    github = &quot;&lt;username&gt;&quot;
    instagram = &quot;&lt;username&gt;&quot;
    xing = &quot;&lt;username&gt;&quot;
    linkedin = &quot;&lt;username&gt;&quot;
    twitter = &quot;&lt;username&gt;&quot;
    facebook = &quot;&lt;username&gt;&quot;
    stackoverflow = &quot;&lt;username&gt;&quot;
    email = &quot;your-email@example.com&quot;

## Main Menu
[[menu.main]]
    name = &quot;Posts&quot;
    weight = 100
    identifier = &quot;posts&quot;
    url = &quot;/posts/&quot;
[[menu.main]]
    name = &quot;About&quot;
    identifier = &quot;about&quot;
    weight = 200
url = &quot;/about/&quot;
</code></pre>

<h3 id="add-content">Add Content</h3>

<p>OK, now we are able to add new contents of our site.</p>

<pre><code class="language-shell">$ hugo new posts/my-first-post.md
/home/user/hugo-blog/content/posts/my-first-post.md created
</code></pre>

<p>This command generates a default content</p>

<pre><code class="language-shell">$ cat content/posts/my-first-post.md
---
title: &quot;My First Post&quot;
date: 2018-06-10T16:26:07+08:00
draft: true
---
</code></pre>

<p>Please be note that when this post is finished, just change the draft to <code>false</code>.</p>

<h3 id="serve-locally">Serve locally</h3>

<p>Serve your content by <code>hugo</code> and access by <code>http://localhost:1313</code>.</p>

<pre><code class="language-shell">$ hugo server -D
                   | EN
+------------------+----+
  Pages            | 10
  Paginator pages  |  0
  Non-page files   |  0
  Static files     |  8
  Processed images |  0
  Aliases          |  0
  Sitemaps         |  1
  Cleaned          |  0

Total in 47 ms

Watching for changes in /home/user/hugo-blog/{data,content,layouts,static,themes}
Serving pages from memory
Web Server is available at http://localhost:1313/ (bind address 127.0.0.1)
Press Ctrl+C to stop
</code></pre>

<h2 id="host-on-github">Host on Github</h2>

<p><code>Github</code> account and <code>Git</code> are prerequisites.</p>

<h3 id="github-user-page">Github User Page</h3>

<p>Github user page can host static website quite well, we are going to use it to publish our site.</p>

<ol>
<li>We need to create a github user page repo, the repo name must be <code>&lt;USERNAME&gt;.github.io</code></li>
<li>Create a normal repo to save Hugo site, e.g. <code>github.com/&lt;USERNAME/hugo-blog&gt;</code></li>
<li>Put the Hugo site created before into the normal Hugo repo</li>
<li>Serve by <code>hugo server</code>, make your website work locally</li>
<li>Once we are happy with the result, just stop the hugo server by <code>Ctrl-C</code> and prepare to publish it</li>
<li>Clone github user page repo as a submodule with the <code>public</code> as the root folder, then <code>hugo</code> can generate webpages into it</li>
<li><code>git submodule add -b master git@github.com:&lt;USERNAME&gt;/&lt;USERNAME&gt;.github.io.git public</code></li>
<li>Then run <code>hugo</code> to generate the webpages</li>
<li>Now we are ready to publish, just commit the changes and push it to github, after a few minutes, the website will be shown at <code>&lt;USERNAME&gt;.github.io</code></li>
</ol>

<h3 id="publish-blog">Publish Blog</h3>

<p>We can create a <code>publish.sh</code> to automatically publish the website instead a bunch of commands</p>

<pre><code class="language-bash">#!/bin/bash

echo -e &quot;\033[0;32mDeploying updates to GitHub...\033[0m&quot;

# Build the project.
hugo -t hyde-hyde # if using a theme, replace with `hugo -t &lt;YOURTHEME&gt;`

# Go To Public folder
cd public
# Add changes to git.
git add .

# Commit changes.
msg=&quot;rebuilding site `date`&quot;
if [ $# -eq 1 ]
  then msg=&quot;$1&quot;
fi
git commit -m &quot;$msg&quot;

# Push source and build repos.
git push origin master

# Come Back up to the Project Root
cd ..
</code></pre>

<h2 id="setting-up-graphcomment">Setting up GraphComment</h2>

<ol>
<li>Sign up at <a href="https://graphcomment.com">GraphComment</a></li>
<li>Create your chat site, add <code>&lt;USERNAME&gt;.github.io</code></li>
<li>Copy the generated <code>SiteID</code> in the <code>setup</code> tab of your site in GraphComment, <code>window.graphcomment_id = '&lt;SiteID&gt;';</code></li>
<li>Paste it to <code>params.GraphCommentId</code> of <code>config.toml</code></li>
</ol>

<h2 id="finished">Finished</h2>

<p>All done. Enjoy it.</p>

  </article>
    
    
</div>

            <div class="footer">
                <script src="https://unpkg.com/mermaid@8.4.8/dist/mermaid.min.js?1583991206"></script>
<script>
    mermaid.initialize({
        theme: 'default',  
        startOnLoad: true
    });
    (function() {
        var codelist = document.querySelectorAll('code.language-mermaid');
        if (codelist && 'length' in codelist && codelist.length > 0) {
            for (var i = 0; i < codelist.length; i++) {
            var div = document.createElement('div');
            div.className = 'mermaid';
            div.setAttribute('align', 'center');
            div.innerHTML = codelist[i].innerHTML.replace(/&amp;/g, '&');
            codelist[i].replaceWith(div);
        }
    }
    })();
</script>

    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>

<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/go.min.js"></script>

<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/yaml.min.js"></script>

<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/dockerfile.min.js"></script>

<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/python.min.js"></script>

<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/toml.min.js"></script>

<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/java.min.js"></script>

<script type="text/javascript">
    hljs.configure({languages: []});
    hljs.initHighlightingOnLoad();
</script>

    
<div id="graphcomment"></div>
<script type="text/javascript">
  window.graphcomment_id = 'ray-g-github-io';
  (function() {

    
    
    
    if (location.hostname === "localhost" ||
       	location.hostname === "127.0.0.1" ||
       	location.hostname === "") {
        return;
		}

     
    var gc = document.createElement('script'); gc.type = 'text/javascript'; gc.async = true;
    gc.src = 'https://graphcomment.com/js/integration.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(gc);
  })();
</script>

            </div>
        </div>
        
        
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-121338579-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

    </body>
</html>
